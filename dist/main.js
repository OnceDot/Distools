!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function r(e){return new Promise(function(t){setTimeout(t,e)})}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});class s{static byProperties(e,t=(e=>e)){return n=>{const r=t(n);return!!r&&e.every(e=>void 0!==r[e])}}static byPrototypeFields(e,t=(e=>e)){return n=>{const r=t(n);return!!r&&(!!r.prototype&&e.every(e=>void 0!==r.prototype[e]))}}static byCode(e,t=(e=>e)){return n=>{const r=t(n);return!!r&&-1!==r.toString([]).search(e)}}static byString(...e){return t=>{const n=t.toString([]);for(const t of e)if(!n.includes(t))return!1;return!0}}static byDisplayName(e){return t=>t&&t.displayName===e}static combine(...e){return t=>e.every(e=>e(t))}}class o{static getByProps(...e){return this.getModule(s.byProperties(e),!0)}static getModule(e,t=!0){const n=this.getAllModules(),r=[];for(const s in n){if(!n.hasOwnProperty(s))continue;const o=n[s],{exports:i}=o;let a=null;if(i&&(i.__esModule&&i.default&&e(i.default)&&(a=i.default),e(i)&&(a=i),a)){if(t)return a;r.push(a)}}return t||0==r.length?void 0:r}static getAllModules(){return this.require.c}static get require(){if(this._require)return this._require;const e="zl-webpackmodules",t="function"==typeof window.webpackJsonp?window.webpackJsonp([],{[e]:(e,t,n)=>t.default=n},[e]).default:window.webpackJsonp.push([[],{[e]:(e,t,n)=>e.exports=n},[[e]]]);return delete t.m[e],delete t.c[e],this._require=t}}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(0);function r(e){var t=e.target.getAttribute("data-target");DISTOOLS[t]()}e.DISTOOLS={wait:150,inject:function(){var e=document.createElement("div");e.id="distools";var t=document.getElementById("app-mount");for(var n of(t.style.height="calc(100vh - 3rem)",e.innerHTML='        \n            <div class="title">\n                DISTOOLS\n            </div>\n    \n            <button data-target="deleteAllMessages">\n                üóëÔ∏è Delete messages\n            </button>\n    \n            <button data-target="saveAllMessages">\n                üíæ Save messages\n            </button>\n    \n            <button class="right" data-target="uninject">\n                ‚úñ Exit\n            </button>\n    \n            <style>\n                #distools {\n                    box-sizing: border-box;\n                    background-color: #191818;\n                    color: #fff;\n                    position: absolute;\n                    left: 0;\n                    bottom: 0;\n                    display: flex;\n                    width: 100%;\n                    height: 3rem;\n                    padding-left: 4.5rem;\n                    padding-right: 4.5rem;\n                    font-size: 0.85rem;\n                }\n    \n                .title {\n                    margin-right: 1.5rem;\n                    font-weight: bold;\n                }\n    \n                #distools > *:not(style) {\n                    display: flex;\n                    align-items: center;\n                    height: 100%;\n                }\n    \n                #distools > button {\n                    transition: background-color ease-in-out .2s;\n                    background-color: #191818;\n                    color: #fff;\n                    padding-left: 1rem;\n                    padding-right: 1rem;\n                }\n    \n                #distools > button:hover {\n                    background-color: #000;\n                }\n    \n                .right {\n                    margin-left: auto;\n                }\n            </style>\n        ',e.children))"BUTTON"===n.nodeName&&n.addEventListener("click",r);document.body.prepend(e)},uninject:function(){var e=document.getElementById("distools"),t=document.getElementById("app-mount");e&&e.remove(),t.style.height=null},deleteMessage:function(e){return new Promise((t,n)=>{var r={method:"DELETE",headers:{Authorization:this.token}};fetch(`https://discordapp.com/api/v6/channels/${e.channel_id}/messages/${e.id}`,r).then(t).catch(n)})},searchGuildMessages:function(e){return new Promise((t,n)=>{var r={method:"GET",headers:{Authorization:this.token}};fetch(`https://discordapp.com/api/v6/guilds/${e}/messages/search?author_id=${this.userId}`,r).then(e=>e.json()).then(t).catch(n)})},deleteAllMessages:async function(){for(var e,n=this.selectedGuildId,r=0;(e=await this.searchGuildMessages(n))&&e.messages.length>0;)for(var s of(console.log(`${e.total_results} remaining messages.`),await Object(t.b)(this.wait),e.messages))for(var o of s)o.hit&&(await this.deleteMessage(o),await Object(t.b)(this.wait),r++);r?alert(`${r} messages have been deleted.`):alert("There is no messages.")},get discordAPI(){return t.a.getByProps("getAPIBaseURL")},get discordConstants(){return t.a.getByProps("Permissions","ActivityTypes","StatusTypes")},get selectedGuildId(){return t.a.getByProps("getLastSelectedGuildId").getGuildId()},get selectedChannelId(){return t.a.getByProps("getLastSelectedChannelId").getChannelId()},get selectedChannel(){return t.a.getByProps("getChannels").getChannel(this.selectedChannelId)},get messages(){return t.a.getByProps("getMessages").getMessages(this.selectedChannelId)},get userId(){return this._userId?this._userId:this._userId=t.a.getByProps("getCurrentUser").getCurrentUser().id},get token(){return this._token?this._token:this._token=t.a.getByProps("getToken").getToken()},addReaction(e,t){return new Promise(n=>{this.discordAPI.put(this.discordConstants.Endpoints.REACTION(this.selectedChannelId,e.id,t,"@me")).then(n)})},removeReaction(e,t){return new Promise(n=>{this.discordAPI.delete(this.discordConstants.Endpoints.REACTION(this.selectedChannelId,e.id,t,"@me")).then(n)})}},DISTOOLS.uninject(),DISTOOLS.inject()}.call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);